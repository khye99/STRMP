{"ast":null,"code":"import _classCallCheck from \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/src/components/Viz.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport './../styles/App.css';\nimport axios from 'axios';\n\nvar Viz =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Viz, _Component);\n\n  function Viz(props) {\n    var _this;\n\n    _classCallCheck(this, Viz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Viz).call(this, props));\n    _this.state = {\n      grades: []\n    };\n    _this.makeGraph = _this.makeGraph.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Viz, [{\n    key: \"makeGraph\",\n    value: function makeGraph(data) {\n      var clear = document.getElementById('graph');\n      clear.innerHTML = \"\";\n      var dataset = data;\n      var w = 500;\n      var h = 300;\n      var svg = d3.select(\"#graph\").append(\"svg\").attr(\"width\", w).attr(\"height\", h);\n      svg.selectAll(\"rect\").data(dataset).enter().append(\"rect\").attr(\"x\", function (d, i) {\n        return i * 30;\n      }).attr(\"y\", function (d, i) {\n        return h - 3 * d;\n      }).attr(\"width\", 25).attr(\"height\", function (d, i) {\n        return d * 3;\n      }).attr(\"fill\", \"navy\");\n      svg.selectAll(\"text\").data(dataset).enter().append(\"text\").text(function (d) {\n        return d;\n      }).attr(\"x\", function (d, i) {\n        return i * 30;\n      }).attr(\"y\", function (d, i) {\n        return h - 3 * d - 3;\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var data = {\n        code: this.refs.code.value\n      };\n      return axios.post('/getgradesgraph', data).then(function (response) {\n        _this2.makeGraph(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // componentDidMount() {\n    //     this.makeGraph();\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Graph\"), React.createElement(\"div\", {\n        id: \"graph\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Grab grades\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        ref: \"code\",\n        placeholder: \"Enter class code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"get grades\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Viz;\n}(Component);\n\nexport default Viz;","map":{"version":3,"sources":["/Users/karenye/Documents/330/CreativeProj/fall2018-cp-group-455060-454998/client/src/components/Viz.js"],"names":["React","Component","d3","axios","Viz","props","state","grades","makeGraph","bind","handleSubmit","data","clear","document","getElementById","innerHTML","dataset","w","h","svg","select","append","attr","selectAll","enter","d","i","text","event","preventDefault","code","refs","value","post","then","response","catch","error","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport './../styles/App.css';\nimport axios from 'axios';\n\nclass Viz extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            grades: []\n        }\n        this.makeGraph = this.makeGraph.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    makeGraph(data) {\n        const clear = document.getElementById('graph');\n        \n        clear.innerHTML = \"\";\n        const dataset = data\n\n        const w = 500;\n        const h = 300;\n        \n        const svg = d3.select(\"#graph\")\n                    .append(\"svg\")\n                    .attr(\"width\", w)\n                    .attr(\"height\", h);\n        \n        svg.selectAll(\"rect\")\n        .data(dataset)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", (d, i) => i * 30)\n        .attr(\"y\", (d, i) => h - 3 * d)\n        .attr(\"width\", 25)\n        .attr(\"height\", (d, i) => d * 3)\n        .attr(\"fill\", \"navy\");\n        \n        svg.selectAll(\"text\")\n        .data(dataset)\n        .enter()\n        .append(\"text\")\n        .text((d) => d)\n        .attr(\"x\", (d, i) => i * 30)\n        .attr(\"y\", (d, i) => h - (3 * d) - 3)\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const data = {\n            code: this.refs.code.value,\n        }\n        return axios.post('/getgradesgraph', data)\n          .then((response) => {\n            this.makeGraph(response.data)\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n    }\n\n    // componentDidMount() {\n    //     this.makeGraph();\n    // }\n\n    render() {\n        return (\n            <React.Fragment>\n                <h1>Graph</h1>\n                <div id=\"graph\"></div>\n                <form onSubmit={this.handleSubmit}>\n                    <h1>Grab grades</h1><br/>\n                    <br/>\n                    <input type=\"text\" ref=\"code\" placeholder=\"Enter class code\"/>\n                    <input type=\"submit\" value=\"get grades\"/>\n                </form>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Viz;"]},"metadata":{},"sourceType":"module"}